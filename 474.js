/*! For license information please see 474.js.LICENSE.txt */
"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[474],{4301:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(s[a]=!0)}for(var c=0;c<t.length;c++){var f=[].concat(t[c]);n&&s[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),e.push(f))}},e}},2468:t=>{t.exports=function(t){return t[1]}},7371:t=>{t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!=e&&r!=r}},8430:(t,e)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function m(t,e,r){this.props=t,this.context=e,this.refs=v,this.updater=r||p}function g(){}function x(t,e,r){this.props=t,this.context=e,this.refs=v,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=m.prototype;var b=x.prototype=new g;b.constructor=x,y(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,j={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function $(t,e,n){var o,i={},s=null,l=null;if(null!=e)for(o in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(s=""+e.key),e)_.call(e,o)&&!R.hasOwnProperty(o)&&(i[o]=e[o]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(o in a=t.defaultProps)void 0===i[o]&&(i[o]=a[o]);return{$$typeof:r,type:t,key:s,ref:l,props:i,_owner:j.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===r}var k=/\/+/g;function E(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function S(t,e,o,i,s){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var a=!1;if(null===t)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case r:case n:a=!0}}if(a)return s=s(a=t),t=""===i?"."+E(a,0):i,w(s)?(o="",null!=t&&(o=t.replace(k,"$&/")+"/"),S(s,e,o,"",(function(t){return t}))):null!=s&&(C(s)&&(s=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,o+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+t)),e.push(s)),1;if(a=0,i=""===i?".":i+":",w(t))for(var c=0;c<t.length;c++){var f=i+E(l=t[c],c);a+=S(l,e,o,f,s)}else if(f=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"==typeof f)for(t=f.call(t),c=0;!(l=t.next()).done;)a+=S(l=l.value,e,o,f=i+E(l,c++),s);else if("object"===l)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function A(t,e,r){if(null==t)return t;var n=[],o=0;return S(t,n,"","",(function(t){return e.call(r,t,o++)})),n}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var T={current:null},N={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:N,ReactCurrentOwner:j};e.Children={map:A,forEach:function(t,e,r){A(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=o,e.Profiler=s,e.PureComponent=x,e.StrictMode=i,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=y({},t.props),i=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=j.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)_.call(e,c)&&!R.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==a?a[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){a=Array(c);for(var f=0;f<c;f++)a[f]=arguments[f+2];o.children=a}return{$$typeof:r,type:t.type,key:i,ref:s,props:o,_owner:l}},e.createContext=function(t){return(t={$$typeof:a,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=$,e.createFactory=function(t){var e=$.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return T.current.useCallback(t,e)},e.useContext=function(t){return T.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return T.current.useDeferredValue(t)},e.useEffect=function(t,e){return T.current.useEffect(t,e)},e.useId=function(){return T.current.useId()},e.useImperativeHandle=function(t,e,r){return T.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return T.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return T.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return T.current.useMemo(t,e)},e.useReducer=function(t,e,r){return T.current.useReducer(t,e,r)},e.useRef=function(t){return T.current.useRef(t)},e.useState=function(t){return T.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return T.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return T.current.useTransition()},e.version="18.2.0"},1855:(t,e,r)=>{t.exports=r(8430)},2903:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},s=[],l=0;l<t.length;l++){var a=t[l],c=n.base?a[0]+n.base:a[0],f=i[c]||0,u="".concat(c," ").concat(f);i[c]=f+1;var h=r(u),d={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==h)e[h].references++,e[h].updater(d);else{var p=o(d,n);n.byIndex=l,e.splice(l,0,{identifier:u,updater:p,references:1})}s.push(u)}return s}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var l=r(i[s]);e[l].references--}for(var a=n(t,o),c=0;c<i.length;c++){var f=r(i[c]);0===e[f].references&&(e[f].updater(),e.splice(f,1))}i=a}}},3976:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},3779:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},6911:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},5940:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1408:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},525:(t,e,r)=>{r.d(e,{$:()=>a});var n=r(7371),o=r.n(n);const i=[];function s(t,e,r,n=0,i=!1){for(const t of e)if(o()(r,t.args)){if(i)return;if(t.error)throw t.error;if(t.response)return t.response;throw t.promise}const s={args:r,promise:t(...r).then((t=>s.response=null==t||t)).catch((t=>s.error=null!=t?t:"unknown error")).then((()=>{n>0&&setTimeout((()=>{const t=e.indexOf(s);-1!==t&&e.splice(t,1)}),n)}))};if(e.push(s),!i)throw s.promise}function l(t,...e){if(void 0===e||0===e.length)t.splice(0,t.length);else{const r=t.find((t=>o()(e,t.args)));if(r){const e=t.indexOf(r);-1!==e&&t.splice(e,1)}}}function a(t,e=0){const r=[];return{read:(...n)=>s(t,r,n,e),preload:(...n)=>{s(t,r,n,e,!0)},clear:(...t)=>l(r,...t),peek:(...t)=>{var e;return null==(e=r.find((e=>o()(t,e.args))))?void 0:e.response}}}function c(t,...e){return s(t,i,e,c.lifespan)}c.lifespan=0,c.clear=(...t)=>l(i,...t),c.preload=(t,...e)=>{s(t,i,e,c.lifespan,!0)},c.peek=(...t)=>{var e;return null==(e=i.find((e=>o()(t,e.args))))?void 0:e.response}},6290:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u,format:()=>d,hideUnchanged:()=>f,showUnchanged:()=>c});const n=t=>"_t"===t?-1:"_"===t.substring(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1,o=(t,e)=>n(t)-n(e),i=class{format(t,e){const r={};this.prepareContext(r);const n=r;return this.recurse(n,t,e),this.finalize(n)}prepareContext(t){t.buffer=[],t.out=function(...t){this.buffer.push(...t)}}typeFormattterNotFound(t,e){throw new Error(`cannot format delta type: ${e}`)}typeFormattterErrorFormatter(t,e,r,n,o,i,s){}finalize({buffer:t}){if(Array.isArray(t))return t.join("")}recurse(t,e,r,n,o,i,s){const l=e&&i?i.value:r;if(void 0===e&&void 0===n)return;const a=this.getDeltaType(e,i),c="node"===a?"a"===e._t?"array":"object":"";let f;void 0!==n?this.nodeBegin(t,n,o,a,c,s):this.rootBegin(t,a,c);try{f="unknown"!==a?this[`format_${a}`]:this.typeFormattterNotFound(t,a),f.call(this,t,e,l,n,o,i)}catch(r){this.typeFormattterErrorFormatter(t,r,e,l,n,o,i),"undefined"!=typeof console&&console.error&&console.error(r.stack)}void 0!==n?this.nodeEnd(t,n,o,a,c,s):this.rootEnd(t,a,c)}formatDeltaChildren(t,e,r){this.forEachDeltaKey(e,r,((n,o,i,s)=>{this.recurse(t,e[n],r?r[o]:void 0,n,o,i,s)}))}forEachDeltaKey(t,e,r){const n=Object.keys(t),i="a"===t._t,s={};let l;if(void 0!==e)for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(void 0!==t[l]||i&&void 0!==t[`_${l}`]||n.push(l));for(l in t)if(Object.prototype.hasOwnProperty.call(t,l)){const r=t[l];if(Array.isArray(r)&&3===r[2]){const o=r;s[`${o[1]}`]={key:l,value:e&&e[parseInt(l.substring(1),10)]},!1!==this.includeMoveDestinations&&void 0===e&&void 0===t[o[1]]&&n.push(o[1].toString())}}i?n.sort(o):n.sort();for(let t=0,e=n.length;t<e;t++){const o=n[t];if(i&&"_t"===o)continue;const l=i?parseInt("_"===(a=o).substring(0,1)?a.slice(1):a,10):o,c=t===e-1;r(o,l,s[l],c)}var a}getDeltaType(t,e){if(void 0===t)return void 0!==e?"movedestination":"unchanged";if(Array.isArray(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"==typeof t)return"node";return"unknown"}parseTextDiff(t){const e=[],r=t.split("\n@@ ");for(let t=0,n=r.length;t<n;t++){const n=r[t],o={pieces:[]},i=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(n).slice(1);o.location={line:i[0],chr:i[1]};const s=n.split("\n").slice(1);for(let t=0,e=s.length;t<e;t++){const e=s[t];if(!e.length)continue;const r={type:"context"};"+"===e.substring(0,1)?r.type="added":"-"===e.substring(0,1)&&(r.type="deleted"),r.text=e.slice(1),o.pieces.push(r)}e.push(o)}return e}};class s extends i{typeFormattterErrorFormatter(t,e){t.out(`<pre class="jsondiffpatch-error">${e}</pre>`)}formatValue(t,e){t.out(`<pre>${l(JSON.stringify(e,null,2))}</pre>`)}formatTextDiffString(t,e){const r=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(let e=0,n=r.length;e<n;e++){const n=r[e];t.out(`<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">${n.location.line}</span><span class="jsondiffpatch-textdiff-char">${n.location.chr}</span></div><div class="jsondiffpatch-textdiff-line">`);const o=n.pieces;for(let e=0,r=o.length;e<r;e++){const r=o[e];t.out(`<span class="jsondiffpatch-textdiff-${r.type}">${l(decodeURI(r.text))}</span>`)}t.out("</div></li>")}t.out("</ul>")}rootBegin(t,e,r){const n=`jsondiffpatch-${e}${r?` jsondiffpatch-child-node-type-${r}`:""}`;t.out(`<div class="jsondiffpatch-delta ${n}">`)}rootEnd(t){t.out("</div>"+(t.hasArrows?`<script type="text/javascript">setTimeout(${a.toString()},10);<\/script>`:""))}nodeBegin(t,e,r,n,o){const i=`jsondiffpatch-${n}${o?` jsondiffpatch-child-node-type-${o}`:""}`;t.out(`<li class="${i}" data-key="${r}"><div class="jsondiffpatch-property-name">${r}</div>`)}nodeEnd(t){t.out("</li>")}format_unchanged(t,e,r){void 0!==r&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,r),t.out("</div>"))}format_movedestination(t,e,r){void 0!==r&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,r),t.out("</div>"))}format_node(t,e,r){const n="a"===e._t?"array":"object";t.out(`<ul class="jsondiffpatch-node jsondiffpatch-node-type-${n}">`),this.formatDeltaChildren(t,e,r),t.out("</ul>")}format_added(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}format_modified(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")}format_deleted(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}format_moved(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out(`</div><div class="jsondiffpatch-moved-destination">${e[1]}</div>`),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),t.hasArrows=!0}format_textdiff(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")}}function l(t){let e=t;const r=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]];for(let t=0;t<r.length;t++)e=e.replace(r[t][0],r[t][1]);return e}const a=function(t){((t,e,r)=>{const n=t.querySelectorAll(".jsondiffpatch-arrow");for(let t=0,e=n.length;t<e;t++)r(n[t])})(t||document,0,(({parentNode:t,children:e,style:r})=>{const n=t,o=e[0],i=o.children[1];o.style.display="none";const s=(({textContent:t,innerText:e})=>t||e)(n.querySelector(".jsondiffpatch-moved-destination"));let l;if((({children:t},e)=>{for(let r=0,n=t.length;r<n;r++)e(t[r],r)})(n.parentNode,(t=>{t.getAttribute("data-key")===s&&(l=t)})),l)try{const t=l.offsetTop-n.offsetTop;o.setAttribute("height",`${Math.abs(t)+6}`),r.top=`${-8+(t>0?0:t)}px`;const e=t>0?`M30,0 Q-10,${Math.round(t/2)} 26,${t-4}`:`M30,${-t} Q-10,${Math.round(-t/2)} 26,4`;i.setAttribute("d",e),o.style.display=""}catch(t){}}))},c=(t,e,r)=>{const n=e||document.body,o="jsondiffpatch-unchanged-",i={showing:`${o}showing`,hiding:`${o}hiding`,visible:`${o}visible`,hidden:`${o}hidden`},s=n.classList;if(!s)return;if(!r)return s.remove(i.showing),s.remove(i.hiding),s.remove(i.visible),s.remove(i.hidden),void(!1===t&&s.add(i.hidden));!1===t?(s.remove(i.showing),s.add(i.visible),setTimeout((()=>{s.add(i.hiding)}),10)):(s.remove(i.hiding),s.add(i.showing),s.remove(i.hidden));const l=setInterval((()=>{a(n)}),100);setTimeout((()=>{s.remove(i.showing),s.remove(i.hiding),!1===t?(s.add(i.hidden),s.remove(i.visible)):(s.add(i.visible),s.remove(i.hidden)),setTimeout((()=>{s.remove(i.visible),clearInterval(l)}),r+400)}),r)},f=(t,e)=>c(!1,t,e),u=s;let h;function d(t,e){return h||(h=new s),h.format(t,e)}},5975:(t,e,r)=>{r.d(e,{vt:()=>M});const n=class{constructor(t){this.selfOptions=t||{},this.pipes={}}options(t){return t&&(this.selfOptions=t),this.selfOptions}pipe(t,e){let r=e;if("string"==typeof t){if(void 0===r)return this.pipes[t];this.pipes[t]=r}if(t&&t.name){if(r=t,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}process(t,e){let r=t;r.options=this.options();let n,o=e||t.pipe||"default";for(;o;)void 0!==r.nextAfterChildren&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),"string"==typeof o&&(o=this.pipe(o)),o.process(r),n=o,o=null,r&&r.next&&(r=r.next,o=r.pipe||n);return r.hasResult?r.result:void 0}},o=class{constructor(t){this.name=t,this.filters=[]}process(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");const e=this.debug,r=this.filters.length,n=t;for(let t=0;t<r;t++){const r=this.filters[t];if(e&&this.log(`filter: ${r.filterName}`),r(n),"object"==typeof n&&n.exiting){n.exiting=!1;break}}!n.next&&this.resultCheck&&this.resultCheck(n)}log(t){console.log(`[jsondiffpatch] ${this.name} pipe, ${t}`)}append(...t){return this.filters.push(...t),this}prepend(...t){return this.filters.unshift(...t),this}indexOf(t){if(!t)throw new Error("a filter name is required");for(let e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error(`filter not found: ${t}`)}list(){return this.filters.map((t=>t.filterName))}after(t,...e){const r=this.indexOf(t);return this.filters.splice(r+1,0,...e),this}before(t,...e){const r=this.indexOf(t);return this.filters.splice(r,0,...e),this}replace(t,...e){const r=this.indexOf(t);return this.filters.splice(r,1,...e),this}remove(t){const e=this.indexOf(t);return this.filters.splice(e,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(t){if(!1!==t){if(!this.resultCheck)return this.resultCheck=t=>{if(!t.hasResult){console.log(t);const e=new Error(`${this.name} failed`);throw e.noResult=!0,e}},this}else this.resultCheck=null}};class i{setResult(t){return this.result=t,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(t,e){return t.parent=this,void 0!==e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}}function s(t){if("object"!=typeof t)return t;if(null===t)return null;if(Array.isArray(t))return t.map(s);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return function(t){const e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}(t);const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=s(t[r]));return e}const l=class extends i{constructor(t,e){super(),this.left=t,this.right=e,this.pipe="diff"}setResult(t){if(this.options.cloneDiffValues&&"object"==typeof t){const e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:s;"object"==typeof t[0]&&(t[0]=e(t[0])),"object"==typeof t[1]&&(t[1]=e(t[1]))}return super.setResult(t)}},a=class extends i{constructor(t,e){super(),this.left=t,this.delta=e,this.pipe="patch"}},c=class extends i{constructor(t){super(),this.delta=t,this.pipe="reverse"}},f=function(t){if(t.left!==t.right)if(void 0!==t.left)if(void 0!==t.right){if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");t.leftType=null===t.left?"null":typeof t.left,t.rightType=null===t.right?"null":typeof t.right,t.leftType===t.rightType&&"boolean"!==t.leftType&&"number"!==t.leftType?("object"===t.leftType&&(t.leftIsArray=Array.isArray(t.left)),"object"===t.rightType&&(t.rightIsArray=Array.isArray(t.right)),t.leftIsArray===t.rightIsArray?t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"==typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};f.filterName="trivial";const u=function(t){if(void 0===t.delta)return void t.setResult(t.left).exit();if(t.nested=!Array.isArray(t.delta),t.nested)return;const e=t.delta;if(1!==e.length)if(2!==e.length)3===e.length&&0===e[2]&&t.setResult(void 0).exit();else{if(t.left instanceof RegExp){const r=/^\/(.*)\/([gimyu]+)$/.exec(e[1]);if(r)return void t.setResult(new RegExp(r[1],r[2])).exit()}t.setResult(e[1]).exit()}else t.setResult(e[0]).exit()};u.filterName="trivial";const h=function(t){if(void 0===t.delta)return void t.setResult(t.delta).exit();if(t.nested=!Array.isArray(t.delta),t.nested)return;const e=t.delta;1!==e.length?2!==e.length?3===e.length&&0===e[2]&&t.setResult([e[0]]).exit():t.setResult([e[1],e[0]]).exit():t.setResult([e[0],0,0]).exit()};h.filterName="trivial";const d=t=>{if(!t||!t.children)return;const e=t.children.length;let r,n=t.result;for(let o=0;o<e;o++)r=t.children[o],void 0!==r.result&&(n=n||{},n[r.childName]=r.result);n&&t.leftIsArray&&(n._t="a"),t.setResult(n).exit()};d.filterName="collectChildren";const p=t=>{if(t.leftIsArray||"object"!==t.leftType)return;const e=t.left,r=t.right;let n,o;const i=t.options.propertyFilter;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i&&!i(n,t)||(o=new l(e[n],r[n]),t.push(o,n)));for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i&&!i(n,t)||void 0===e[n]&&(o=new l(void 0,r[n]),t.push(o,n)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()};p.filterName="objects";const y=function(t){if(!t.nested)return;const e=t.delta;if(e._t)return;const r=e;let n,o;for(n in r)o=new a(t.left[n],r[n]),t.push(o,n);t.exit()};y.filterName="objects";const v=function(t){if(!t||!t.children)return;if(t.delta._t)return;const e=t.left,r=t.children.length;let n;for(let o=0;o<r;o++){n=t.children[o];const r=n.childName;Object.prototype.hasOwnProperty.call(t.left,r)&&void 0===n.result?delete e[r]:e[r]!==n.result&&(e[r]=n.result)}t.setResult(e).exit()};v.filterName="collectChildren";const m=function(t){if(!t.nested)return;if(t.delta._t)return;const e=t.delta;let r,n;for(r in e)n=new c(e[r]),t.push(n,r);t.exit()};m.filterName="objects";const g=t=>{if(!t||!t.children)return;if(t.delta._t)return;const e=t.children.length;let r;const n={};for(let o=0;o<e;o++){r=t.children[o];const e=r.childName;n[e]!==r.result&&(n[e]=r.result)}t.setResult(n).exit()};g.filterName="collectChildren";const x=function(t,e,r,n){return t[r]===e[n]};function b(t,e,r,n,o){const i=t[r],s=e[n];if(i===s)return!0;if("object"!=typeof i||"object"!=typeof s)return!1;const l=o.objectHash;if(!l)return o.matchByPosition&&r===n;o.hashCache1=o.hashCache1||[];let a=o.hashCache1[r];if(void 0===a&&(o.hashCache1[r]=a=l(i,r)),void 0===a)return!1;o.hashCache2=o.hashCache2||[];let c=o.hashCache2[n];return void 0===c&&(o.hashCache2[n]=c=l(s,n)),void 0!==c&&a===c}const w=function(t){if(!t.leftIsArray)return;const e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition};let r,n,o,i=0,s=0;const a=t.left,c=t.right,f=a.length,u=c.length;let h,d;for(f>0&&u>0&&!e.objectHash&&"boolean"!=typeof e.matchByPosition&&(e.matchByPosition=!function(t,e,r,n){for(let o=0;o<r;o++){const r=t[o];for(let t=0;t<n;t++){const n=e[t];if(o!==t&&r===n)return!0}}}(a,c,f,u));i<f&&i<u&&b(a,c,i,i,e);)r=i,h=new l(a[r],c[r]),t.push(h,r),i++;for(;s+i<f&&s+i<u&&b(a,c,f-1-s,u-1-s,e);)n=f-1-s,o=u-1-s,h=new l(a[n],c[o]),t.push(h,o),s++;if(i+s===f){if(f===u)return void t.setResult(void 0).exit();for(d=d||{_t:"a"},r=i;r<u-s;r++)d[r]=[c[r]];return void t.setResult(d).exit()}if(i+s===u){for(d=d||{_t:"a"},r=i;r<f-s;r++)d[`_${r}`]=[a[r],0,0];return void t.setResult(d).exit()}delete e.hashCache1,delete e.hashCache2;const p=a.slice(i,f-s),y=c.slice(i,u-s),v=function(t,e,r,n){const o=n||{},i=function(t,e,r,n){const o=t.length,i=e.length;let s,l;const a=new Array(o+1);for(s=0;s<o+1;s++)for(a[s]=new Array(i+1),l=0;l<i+1;l++)a[s][l]=0;for(a.match=r,s=1;s<o+1;s++)for(l=1;l<i+1;l++)r(t,e,s-1,l-1,n)?a[s][l]=a[s-1][l-1]+1:a[s][l]=Math.max(a[s-1][l],a[s][l-1]);return a}(t,e,r||x,o);return function(t,e,r,n){let o=e.length,i=r.length;const s={sequence:[],indices1:[],indices2:[]};for(;0!==o&&0!==i;)t.match(e,r,o-1,i-1,n)?(s.sequence.unshift(e[o-1]),s.indices1.unshift(o-1),s.indices2.unshift(i-1),--o,--i):t[o][i-1]>t[o-1][i]?--i:--o;return s}(i,t,e,o)}(p,y,b,e),m=[];for(d=d||{_t:"a"},r=i;r<f-s;r++)v.indices1.indexOf(r-i)<0&&(d[`_${r}`]=[a[r],0,0],m.push(r));let g=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(g=!1);let w=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(w=!0);const _=m.length;for(r=i;r<u-s;r++){const s=v.indices2.indexOf(r-i);if(s<0){let s=!1;if(g&&_>0)for(let f=0;f<_;f++)if(n=m[f],b(p,y,n-i,r-i,e)){d[`_${n}`].splice(1,2,r,3),w||(d[`_${n}`][0]=""),o=r,h=new l(a[n],c[o]),t.push(h,o),m.splice(f,1),s=!0;break}s||(d[r]=[c[r]])}else n=v.indices1[s]+i,o=v.indices2[s]+i,h=new l(a[n],c[o]),t.push(h,o)}t.setResult(d).exit()};w.filterName="arrays";const _=(t,e)=>t-e,j=t=>(e,r)=>e[t]-r[t],R=function(t){if(!t.nested)return;const e=t.delta;if("a"!==e._t)return;let r,n;const o=e,i=t.left;let s=[],l=[];const c=[];for(r in o)if("_t"!==r)if("_"===r[0]){const t=r;if(0!==o[t][2]&&3!==o[t][2])throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${o[t][2]}`);s.push(parseInt(r.slice(1),10))}else{const t=r;1===o[t].length?l.push({index:parseInt(t,10),value:o[t][0]}):c.push({index:parseInt(t,10),delta:o[t]})}for(s=s.sort(_),r=s.length-1;r>=0;r--){n=s[r];const t=o[`_${n}`],e=i.splice(n,1)[0];3===t[2]&&l.push({index:t[1],value:e})}l=l.sort(j("index"));const f=l.length;for(r=0;r<f;r++){const t=l[r];i.splice(t.index,0,t.value)}const u=c.length;let h;if(u>0)for(r=0;r<u;r++){const e=c[r];h=new a(i[e.index],e.delta),t.push(h,e.index)}t.children?t.exit():t.setResult(i).exit()};R.filterName="arrays";const $=function(t){if(!t||!t.children)return;if("a"!==t.delta._t)return;const e=t.left,r=t.children.length;let n;for(let o=0;o<r;o++)n=t.children[o],e[n.childName]=n.result;t.setResult(e).exit()};$.filterName="arraysCollectChildren";const C=function(t){if(!t.nested){const e=t.delta;if(3===e[2]){const r=e;t.newName=`_${r[1]}`,t.setResult([r[0],parseInt(t.childName.substring(1),10),3]).exit()}return}const e=t.delta;if("a"!==e._t)return;const r=e;let n,o;for(n in r)"_t"!==n&&(o=new c(r[n]),t.push(o,n));t.exit()};C.filterName="arrays";const k=(t,e,r)=>{if("string"==typeof e&&"_"===e[0])return parseInt(e.substring(1),10);if(Array.isArray(r)&&0===r[2])return`_${e}`;let n=+e;for(const r in t){const o=t[r];if(Array.isArray(o))if(3===o[2]){const t=parseInt(r.substring(1),10),i=o[1];if(i===+e)return t;t<=n&&i>n?n++:t>=n&&i<n&&n--}else 0===o[2]?parseInt(r.substring(1),10)<=n&&n++:1===o.length&&parseInt(r,10)<=n&&n--}return n},E=t=>{if(!t||!t.children)return;const e=t.delta;if("a"!==e._t)return;const r=e,n=t.children.length;let o;const i={_t:"a"};for(let e=0;e<n;e++){o=t.children[e];let n=o.newName;void 0===n&&(n=k(r,o.childName,o.result)),i[n]!==o.result&&(i[n]=o.result)}t.setResult(i).exit()};E.filterName="arraysCollectChildren";const S=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};S.filterName="dates";let A=null;function O(t,e){var r;if(!A){let n;if(!(null===(r=null==t?void 0:t.textDiff)||void 0===r?void 0:r.diffMatchPatch)){if(!e)return null;const t=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw t.diff_match_patch_not_found=!0,t}n=new t.textDiff.diffMatchPatch,A={diff:function(t,e){return n.patch_toText(n.patch_make(t,e))},patch:function(t,e){const r=n.patch_apply(n.patch_fromText(e),t);for(let t=0;t<r[1].length;t++)r[1][t]||(new Error("text patch failed").textPatchFailed=!0);return r[0]}}}return A}const T=function(t){if("string"!==t.leftType)return;const e=t.left,r=t.right,n=t.options&&t.options.textDiff&&t.options.textDiff.minLength||60;if(e.length<n||r.length<n)return void t.setResult([e,r]).exit();const o=O(t.options);if(!o)return void t.setResult([e,r]).exit();const i=o.diff;t.setResult([i(e,r),0,2]).exit()};T.filterName="texts";const N=function(t){if(t.nested)return;const e=t.delta;if(2!==e[2])return;const r=e,n=O(t.options,!0).patch;t.setResult(n(t.left,r[0])).exit()};N.filterName="texts";const I=function(t){let e,r,n,o,i=null;const s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;let l;const a=t.split("\n");for(e=0,r=a.length;e<r;e++){n=a[e];const t=n.slice(0,1);"@"===t?(i=s.exec(n),l=e,a[l]="@@ -"+i[3]+","+i[4]+" +"+i[1]+","+i[2]+" @@"):"+"===t?(a[e]="-"+a[e].slice(1),"+"===a[e-1].slice(0,1)&&(o=a[e],a[e]=a[e-1],a[e-1]=o)):"-"===t&&(a[e]="+"+a[e].slice(1))}return a.join("\n")},D=function(t){if(t.nested)return;const e=t.delta;if(2!==e[2])return;const r=e;t.setResult([I(r[0]),0,2]).exit()};D.filterName="texts";const P=class{constructor(t){this.processor=new n(t),this.processor.pipe(new o("diff").append(d,f,S,T,p,w).shouldHaveResult()),this.processor.pipe(new o("patch").append(v,$,u,N,y,R).shouldHaveResult()),this.processor.pipe(new o("reverse").append(g,E,h,D,m,C).shouldHaveResult())}options(t){return this.processor.options(t)}diff(t,e){return this.processor.process(new l(t,e))}patch(t,e){return this.processor.process(new a(t,e))}reverse(t){return this.processor.process(new c(t))}unpatch(t,e){return this.patch(t,this.reverse(e))}clone(t){return s(t)}};function M(t){return new P(t)}}}]);